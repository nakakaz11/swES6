{"version":3,"sources":["viaBrushing.js"],"names":[],"mappings":"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","file":"viaBrushing-compiled.js","sourcesContent":["// Generated by CoffeeScript 1.9.2\n\n/* weight base coffee */\n(function() {\n  var area, area2, brush, brushed, context, focus, height, height2, margin, margin2, parseDate, svg, width, x, x2, xAxis, xAxis2, y, y2, yAxis;\n  brushed = function() {\n    x.domain((brush.empty() ? x2.domain() : brush.extent()));\n    focus.select(\"path\").attr(\"d\", area);\n    return focus.select(\".x.axis\").call(xAxis);\n  };\n  margin = {\n    top: 10,\n    right: 10,\n    bottom: 100,\n    left: 40\n  };\n  margin2 = {\n    top: 430,\n    right: 10,\n    bottom: 20,\n    left: 40\n  };\n  width = 960 - margin.left - margin.right;\n  height = 500 - margin.top - margin.bottom;\n  height2 = 500 - margin2.top - margin2.bottom;\n  parseDate = d3.time.format(\"%Y-%m-%d\").parse;\n  x = d3.time.scale().range([0, width]);\n  x2 = d3.time.scale().range([0, width]);\n  y = d3.scale.linear().range([height, 0]);\n  y2 = d3.scale.linear().range([height2, 0]);\n  xAxis = d3.svg.axis().scale(x).orient(\"bottom\");\n  xAxis2 = d3.svg.axis().scale(x2).orient(\"bottom\");\n  yAxis = d3.svg.axis().scale(y).tickSize(width).orient(\"right\");\n  brush = d3.svg.brush().x(x2).on(\"brush\", brushed);\n  area = d3.svg.area().interpolate(\"step-after\").x(function(d) {\n    return x(d.date);\n  }).y0(height).y1(function(d) {\n    return y(d.price);\n  });\n  area2 = d3.svg.area().interpolate(\"monotone\").x(function(d) {\n    return x2(d.date);\n  }).y0(height2).y1(function(d) {\n    return y2(d.price);\n  });\n  svg = d3.select(\"#svg3\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom);\n  svg.append(\"defs\").append(\"clipPath\").attr(\"id\", \"clipVia\").append(\"rect\").attr(\"width\", width).attr(\"height\", height);\n  focus = svg.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n  context = svg.append(\"g\").attr(\"class\", \"swCont\").attr(\"transform\", \"translate(\" + margin2.left + \",\" + margin2.top + \")\");\n  return d3.csv(\"/_jsFiddle_/swES6/json/weight.csv\", function(error, data) {\n    var bisectDate, formatCurrency, formatValue, mousemove, tip;\n    data.forEach(function(d) {\n      d.date = parseDate(d.date);\n      return d.price = +d.price;\n    });\n    x.domain(d3.extent(data.map(function(d) {\n      return d.date;\n    })));\n    y.domain([\n      0, d3.max(data.map(function(d) {\n        return d.price;\n      }))\n    ]);\n    x2.domain(x.domain());\n    y2.domain(y.domain());\n    focus.append(\"path\").datum(data).attr(\"clipVia-path\", \"url(#clipVia)\").attr(\"d\", area);\n    focus.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxis);\n    focus.append(\"g\").attr(\"class\", \"y axis\").call(yAxis);\n    focus.selectAll(\"g\").filter(function(d) {\n      return d;\n    }).classed(\"minor\", true);\n    focus.selectAll(\"text\").attr(\"x\", 4).attr(\"dy\", 4);\n    tip = svg.append(\"g\").attr(\"class\", \"tip\").style(\"display\", \"none\");\n    tip.append(\"circle\").attr(\"r\", 4.5);\n    tip.append(\"text\").attr(\"x\", -60 - margin.left).attr(\"dy\", \".35em\");\n    bisectDate = d3.bisector(function(d) {\n      return d.date;\n    }).left;\n    formatValue = d3.format(\",.2f\");\n    formatCurrency = function(d) {\n      return \"cal.\" + formatValue(d);\n    };\n    mousemove = function() {\n      var d, d0, d1, i, x0;\n      x0 = x.invert(d3.mouse(this)[0]);\n      i = bisectDate(data, x0, 1);\n      d0 = data[i - 1];\n      d1 = data[i];\n      d = x0 - d0.date > d1.date - x0 ? d1 : d0;\n      tip.attr(\"transform\", \"translate(\" + (x(d.date) + margin.left) + \", \" + (y(d.price) + margin.top) + \")\");\n      return tip.select(\"text\").text(formatCurrency(d.price));\n    };\n    svg.append(\"rect\").attr(\"class\", \"overlay\").attr(\"width\", width).attr(\"height\", height).attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\").on(\"mouseover\", function() {\n      return tip.style(\"display\", null);\n    }).on(\"mouseout\", function() {\n      return tip.style(\"display\", \"none\");\n    }).on(\"mousemove\", mousemove);\n    context.append(\"path\").datum(data).attr(\"d\", area2);\n    context.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height2 + \")\").call(xAxis2);\n    return context.append(\"g\").attr(\"class\", \"x brush\").call(brush).selectAll(\"rect\").attr(\"y\", -6).attr(\"height\", height2 + 7);\n  });\n})();\n\n//# sourceMappingURL=viaBrushing.js.map\n"]}